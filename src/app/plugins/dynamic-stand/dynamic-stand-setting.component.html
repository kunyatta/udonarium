<div class="tabs">
  <div class="tab-item" [class.active]="selectedTab === 'global'" (click)="selectTab('global')">全体設定</div>
  <div class="tab-item" [class.active]="selectedTab === 'emotes'" (click)="selectTab('emotes')">エモート管理</div>
</div>

<div class="setting-container" *ngIf="selectedTab === 'global'">
  <h3>立ち絵演出設定 (Master Control)</h3>
  
  <div class="setting-group">
    <label>表示持続時間 (ms): <span>{{config.displayDuration}}</span></label>
    <input type="range" min="1000" max="20000" step="500" [(ngModel)]="config.displayDuration">
  </div>

  <div class="setting-group">
    <label>アニメーション速度 (ms): <span>{{config.animationDuration}}</span></label>
    <input type="range" min="100" max="2000" step="50" [(ngModel)]="config.animationDuration">
  </div>

  <hr>

  <div class="setting-group">
    <label>押し出し幅 (vw): <span>{{config.slideWidth}}</span></label>
    <input type="range" min="5" max="40" step="1" [(ngModel)]="config.slideWidth">
  </div>

  <div class="setting-group">
    <label>画面端からの距離 (vw): <span>{{config.edgeOffset}}</span></label>
    <input type="range" min="0" max="30" step="1" [(ngModel)]="config.edgeOffset">
  </div>

  <hr>

  <div class="setting-group">
    <label>立ち絵の標準幅 (vw): <span>{{config.standWidth}}</span></label>
    <input type="range" min="10" max="50" step="1" [(ngModel)]="config.standWidth">
  </div>

  <div class="setting-group">
    <label>立ち絵の標準高さ (vh): <span>{{config.standHeight}}</span></label>
    <input type="range" min="20" max="100" step="1" [(ngModel)]="config.standHeight">
  </div>

  <div class="setting-group">
    <label>エモートの大きさ (scale): <span>{{config.emoteSize}}</span></label>
    <input type="range" min="1" max="10" step="0.1" [(ngModel)]="config.emoteSize">
  </div>

  <div class="footer">
    <p>※ 設定はリアルタイムに反映されます。</p>
  </div>
</div>

<div class="emote-manager-container" *ngIf="selectedTab === 'emotes'">
  <!-- Left Column: List -->
  <div class="emote-list-col">
    <div class="list-header">
      <button class="add-btn" (click)="createNewEmote()">+ 新規作成</button>
    </div>
    <div class="scrollable-list">
      <div *ngFor="let emote of emotes" class="list-item" 
           [class.active]="selectedEmote?.identifier === emote.identifier"
           (click)="selectEmote(emote)">
        <span class="icon">{{emote.icon}}</span>
        <span class="label">{{emote.label}}</span>
      </div>
    </div>
  </div>

  <!-- Right Column: Editor -->
  <div class="emote-editor-col">
    <div *ngIf="selectedEmote; else noSelection">
      <h3>エモート編集</h3>
      <div class="form-group">
        <label>アイコン (絵文字/テキスト)</label>
        <input type="text" [(ngModel)]="selectedEmote.icon" placeholder="😊">
      </div>
      <div class="form-group">
        <label>表示名 (メニュー用)</label>
        <input type="text" [(ngModel)]="selectedEmote.label" placeholder="笑顔">
      </div>
      <div class="form-group">
        <label>効果音 (SE) <small>※実装予定</small></label>
        <select disabled>
          <option>設定なし</option>
        </select>
      </div>

      <div class="button-row">
        <button (click)="saveEmote()">保存</button>
        <button (click)="cancelEdit()">キャンセル</button>
        <button class="danger" *ngIf="selectedEmote.identifier" (click)="deleteEmote()">削除</button>
      </div>
    </div>
    <ng-template #noSelection>
      <div class="placeholder">
        <p>左のリストから選択するか<br>新規作成してください</p>
      </div>
    </ng-template>
  </div>
</div>
